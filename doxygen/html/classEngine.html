<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LibSSLAM: C++ library for object analysis in texture and depth images.: Engine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LibSSLAM: C++ library for object analysis in texture and depth images.
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classEngine-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Engine Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An engine implementation to run object instance segmentation using maskrcnn-benchmark and ORBSLAM2.  
 <a href="classEngine.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Engine_8hpp_source.html">Engine.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Engine:</div>
<div class="dyncontent">
<div class="center"><img src="classEngine__coll__graph.png" border="0" usemap="#Engine_coll__map" alt="Collaboration graph"/></div>
<map name="Engine_coll__map" id="Engine_coll__map">
<area shape="rect" id="node2" href="classDoN.html" title="DoN" alt="" coords="5,95,55,121"/>
<area shape="rect" id="node3" href="classInstanceViewer.html" title="InstanceViewer" alt="" coords="79,95,191,121"/>
<area shape="rect" id="node4" href="classMaskRCNN.html" title="An interface between maskrcnn&#45;benchmark in python and Engine in C++. " alt="" coords="216,95,311,121"/>
<area shape="rect" id="node5" href="classInventory.html" title="An inventory of all detected and classified map objects. " alt="" coords="380,5,456,32"/>
<area shape="rect" id="node6" href="classObjectDrawer.html" title="ObjectDrawer" alt="" coords="471,95,573,121"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab3818182cd3d2b3a788ac04d743cf6f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#ab3818182cd3d2b3a788ac04d743cf6f4">Engine</a> (std::unordered_map&lt; int, std::string &gt; categories, std::string)</td></tr>
<tr class="separator:ab3818182cd3d2b3a788ac04d743cf6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef7030a089ecb30bbfcb9e43094717a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a8ef7030a089ecb30bbfcb9e43094717a">~Engine</a> ()</td></tr>
<tr class="separator:a8ef7030a089ecb30bbfcb9e43094717a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e1fdb5ff8c992b1795eff03e2551708"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a0e1fdb5ff8c992b1795eff03e2551708">Run</a> (cv::Mat imRGB, cv::Mat imD, KeyFrame *KF)</td></tr>
<tr class="separator:a0e1fdb5ff8c992b1795eff03e2551708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d6151754fc9b77c75ce041f4653007"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classObject.html">Object</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#ad6d6151754fc9b77c75ce041f4653007">TrackObjectPoints</a> (Contour maskContour, const std::string label, double score, cv::Mat imDepth)</td></tr>
<tr class="separator:ad6d6151754fc9b77c75ce041f4653007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d6ccc8e7dd30849fbcb039cd8cf5a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classObject.html">Object</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a76d6ccc8e7dd30849fbcb039cd8cf5a6">TrackObjectContours</a> (Contour maskContour, const std::string label, double score, cv::Mat imDepth)</td></tr>
<tr class="separator:a76d6ccc8e7dd30849fbcb039cd8cf5a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7feb6f45507d808379e9c4ba6cae90b"><td class="memItemLeft" align="right" valign="top">cv::Point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#ab7feb6f45507d808379e9c4ba6cae90b">ProjectIntoCurrentKF</a> (<a class="el" href="classObjectPoint.html">ObjectPoint</a> *MP)</td></tr>
<tr class="separator:ab7feb6f45507d808379e9c4ba6cae90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381792d9c8cf59c365aa9ef5ff1841fb"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a381792d9c8cf59c365aa9ef5ff1841fb">ComputeFundamental</a> (KeyFrame *KF1, KeyFrame *KF2)</td></tr>
<tr class="separator:a381792d9c8cf59c365aa9ef5ff1841fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7b2b448a71642155d74932139c26d7"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#ade7b2b448a71642155d74932139c26d7">GetSkewSymmetricMatrix</a> (const cv::Mat &amp;v)</td></tr>
<tr class="separator:ade7b2b448a71642155d74932139c26d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c2286837892a045674c6e9c2aaa0b8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a21c2286837892a045674c6e9c2aaa0b8">shortest_distance</a> (float u, float v, float a, float b, float c)</td></tr>
<tr class="separator:a21c2286837892a045674c6e9c2aaa0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c5502ceecdd852f9417ed0d7c73648"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a45c5502ceecdd852f9417ed0d7c73648">display</a> (<a class="el" href="classObject.html">Object</a> *O, cv::Mat imRGB, Contour maskContour, cv::Rect bbox, std::vector&lt; cv::Vec4i &gt; hierarchy, cv::Scalar color)</td></tr>
<tr class="separator:a45c5502ceecdd852f9417ed0d7c73648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb2bcd0cf0e2f084226f38477a871a9"><td class="memItemLeft" align="right" valign="top"><a id="adbb2bcd0cf0e2f084226f38477a871a9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsInCurrentKF</b> (float range, cv::Point cvpoint, int margin)</td></tr>
<tr class="separator:adbb2bcd0cf0e2f084226f38477a871a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:aabf30721fe5b9d5a0596aceddf4fc8ad"><td class="memItemLeft" align="right" valign="top"><a id="aabf30721fe5b9d5a0596aceddf4fc8ad"></a>
typedef std::chrono::monotonic_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><b>timer</b></td></tr>
<tr class="separator:aabf30721fe5b9d5a0596aceddf4fc8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a862870af01354ec1327bae82074e836f"><td class="memItemLeft" align="right" valign="top"><a id="a862870af01354ec1327bae82074e836f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>tick</b> ()</td></tr>
<tr class="separator:a862870af01354ec1327bae82074e836f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c7704a2bef626ce6c80e504a178bf9"><td class="memItemLeft" align="right" valign="top"><a id="a09c7704a2bef626ce6c80e504a178bf9"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>tock</b> ()</td></tr>
<tr class="separator:a09c7704a2bef626ce6c80e504a178bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8236c8dbd88d7398fa135e9d660217a2"><td class="memTemplParams" colspan="2"><a id="a8236c8dbd88d7398fa135e9d660217a2"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a8236c8dbd88d7398fa135e9d660217a2"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><b>tick</b> ()</td></tr>
<tr class="separator:a8236c8dbd88d7398fa135e9d660217a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2823156001f3e2bbdbcbdb4d29322272"><td class="memTemplParams" colspan="2"><a id="a2823156001f3e2bbdbcbdb4d29322272"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a2823156001f3e2bbdbcbdb4d29322272"><td class="memTemplItemLeft" align="right" valign="top">double&#160;</td><td class="memTemplItemRight" valign="bottom"><b>tock</b> (T t1)</td></tr>
<tr class="separator:a2823156001f3e2bbdbcbdb4d29322272"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a32fcfaf08165cdfc81d39e8dc8d71e6f"><td class="memItemLeft" align="right" valign="top"><a id="a32fcfaf08165cdfc81d39e8dc8d71e6f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>mSensor</b></td></tr>
<tr class="separator:a32fcfaf08165cdfc81d39e8dc8d71e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6071c21007bd703040b035f4262da8"><td class="memItemLeft" align="right" valign="top"><a id="a7c6071c21007bd703040b035f4262da8"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a7c6071c21007bd703040b035f4262da8">mnMinDepth</a></td></tr>
<tr class="memdesc:a7c6071c21007bd703040b035f4262da8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum perceived depth. <br /></td></tr>
<tr class="separator:a7c6071c21007bd703040b035f4262da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639e031e36ea33902eee3bf4f2c4600f"><td class="memItemLeft" align="right" valign="top"><a id="a639e031e36ea33902eee3bf4f2c4600f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a639e031e36ea33902eee3bf4f2c4600f">mnMaxDepth</a></td></tr>
<tr class="memdesc:a639e031e36ea33902eee3bf4f2c4600f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum perceived depth. <br /></td></tr>
<tr class="separator:a639e031e36ea33902eee3bf4f2c4600f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1b9bc3ce76e792ae67818a36bd01bd"><td class="memItemLeft" align="right" valign="top"><a id="a1b1b9bc3ce76e792ae67818a36bd01bd"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a1b1b9bc3ce76e792ae67818a36bd01bd">mnDist</a></td></tr>
<tr class="memdesc:a1b1b9bc3ce76e792ae67818a36bd01bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Threshold for point-to-polygon test. <br /></td></tr>
<tr class="separator:a1b1b9bc3ce76e792ae67818a36bd01bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35ddf071177f32315a8e5d534005b907"><td class="memItemLeft" align="right" valign="top"><a id="a35ddf071177f32315a8e5d534005b907"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>mMinArea</b></td></tr>
<tr class="separator:a35ddf071177f32315a8e5d534005b907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470e699fd14551987d1a14e8227462e2"><td class="memItemLeft" align="right" valign="top"><a id="a470e699fd14551987d1a14e8227462e2"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>mMaxArea</b></td></tr>
<tr class="separator:a470e699fd14551987d1a14e8227462e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94359672a475890b50acc354ef174417"><td class="memItemLeft" align="right" valign="top"><a id="a94359672a475890b50acc354ef174417"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>mOverlap</b></td></tr>
<tr class="separator:a94359672a475890b50acc354ef174417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a62cf18615cc5bddad798ffcc3e12a"><td class="memItemLeft" align="right" valign="top"><a id="a30a62cf18615cc5bddad798ffcc3e12a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>mMinPointCount</b></td></tr>
<tr class="separator:a30a62cf18615cc5bddad798ffcc3e12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d46eb3926affc633a70e49069d111f"><td class="memItemLeft" align="right" valign="top"><a id="a30d46eb3926affc633a70e49069d111f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>mProbThd</b></td></tr>
<tr class="separator:a30d46eb3926affc633a70e49069d111f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915a94d5480ef2870041b5ff5f82ea0e"><td class="memItemLeft" align="right" valign="top"><a id="a915a94d5480ef2870041b5ff5f82ea0e"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>mRes</b></td></tr>
<tr class="separator:a915a94d5480ef2870041b5ff5f82ea0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ebc85b2ec8b863a9a525a4fa4689aa"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a39ebc85b2ec8b863a9a525a4fa4689aa">K</a></td></tr>
<tr class="memdesc:a39ebc85b2ec8b863a9a525a4fa4689aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Camera intrinsic parameters (TUM)  <a href="#a39ebc85b2ec8b863a9a525a4fa4689aa">More...</a><br /></td></tr>
<tr class="separator:a39ebc85b2ec8b863a9a525a4fa4689aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bddf06ba7cf3410c6b49fc865f1201c"><td class="memItemLeft" align="right" valign="top"><a id="a9bddf06ba7cf3410c6b49fc865f1201c"></a>
cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a9bddf06ba7cf3410c6b49fc865f1201c">DistCoef</a></td></tr>
<tr class="memdesc:a9bddf06ba7cf3410c6b49fc865f1201c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Camera lense distortion parameters. <br /></td></tr>
<tr class="separator:a9bddf06ba7cf3410c6b49fc865f1201c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08215fba7b1d3b3e9347d40590b5b54b"><td class="memItemLeft" align="right" valign="top"><a id="a08215fba7b1d3b3e9347d40590b5b54b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>mWidth</b></td></tr>
<tr class="separator:a08215fba7b1d3b3e9347d40590b5b54b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d3938e3e8b6325ebae501696631d06"><td class="memItemLeft" align="right" valign="top"><a id="a76d3938e3e8b6325ebae501696631d06"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>mHeight</b></td></tr>
<tr class="separator:a76d3938e3e8b6325ebae501696631d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05ac5f81adf467caf2d9fb49113d704"><td class="memItemLeft" align="right" valign="top"><a id="ab05ac5f81adf467caf2d9fb49113d704"></a>
KeyFrame *&#160;</td><td class="memItemRight" valign="bottom"><b>mpCurrentKF</b></td></tr>
<tr class="separator:ab05ac5f81adf467caf2d9fb49113d704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c620f056b94de7faf0dfc13010d189"><td class="memItemLeft" align="right" valign="top"><a id="ac4c620f056b94de7faf0dfc13010d189"></a>
<a class="el" href="classMaskRCNN.html">MaskRCNN</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#ac4c620f056b94de7faf0dfc13010d189">mpMaskRCNN</a></td></tr>
<tr class="memdesc:ac4c620f056b94de7faf0dfc13010d189"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to maskrcnn object. <br /></td></tr>
<tr class="separator:ac4c620f056b94de7faf0dfc13010d189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c02a735a6d30121bff171cbf96e7e1"><td class="memItemLeft" align="right" valign="top"><a id="a94c02a735a6d30121bff171cbf96e7e1"></a>
<a class="el" href="classDoN.html">DoN</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a94c02a735a6d30121bff171cbf96e7e1">mpDoN</a></td></tr>
<tr class="memdesc:a94c02a735a6d30121bff171cbf96e7e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to <a class="el" href="classDoN.html">DoN</a> object. <br /></td></tr>
<tr class="separator:a94c02a735a6d30121bff171cbf96e7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f29333d26ca0799ece0aad9a121108d"><td class="memItemLeft" align="right" valign="top"><a id="a1f29333d26ca0799ece0aad9a121108d"></a>
std::unordered_map&lt; int, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a1f29333d26ca0799ece0aad9a121108d">mmCategories</a></td></tr>
<tr class="memdesc:a1f29333d26ca0799ece0aad9a121108d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Labelled object categories. <br /></td></tr>
<tr class="separator:a1f29333d26ca0799ece0aad9a121108d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1a7b510fc78ce3e41afcce0492c8065"><td class="memItemLeft" align="right" valign="top"><a id="ab1a7b510fc78ce3e41afcce0492c8065"></a>
<a class="el" href="classInventory.html">Inventory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#ab1a7b510fc78ce3e41afcce0492c8065">mpInventory</a></td></tr>
<tr class="memdesc:ab1a7b510fc78ce3e41afcce0492c8065"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to <a class="el" href="classInventory.html" title="An inventory of all detected and classified map objects. ">Inventory</a>. <br /></td></tr>
<tr class="separator:ab1a7b510fc78ce3e41afcce0492c8065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a344b73834a2105c834df216935af06e9"><td class="memItemLeft" align="right" valign="top"><a id="a344b73834a2105c834df216935af06e9"></a>
<a class="el" href="classInstanceViewer.html">InstanceViewer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#a344b73834a2105c834df216935af06e9">mpViewer</a></td></tr>
<tr class="memdesc:a344b73834a2105c834df216935af06e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to <a class="el" href="classObject.html" title="A definition of an object in the inventory. ">Object</a> viewer. <br /></td></tr>
<tr class="separator:a344b73834a2105c834df216935af06e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0baa7948abc47c2a198bd70eacea10c"><td class="memItemLeft" align="right" valign="top"><a id="ae0baa7948abc47c2a198bd70eacea10c"></a>
<a class="el" href="classObjectDrawer.html">ObjectDrawer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#ae0baa7948abc47c2a198bd70eacea10c">mpObjectDrawer</a></td></tr>
<tr class="memdesc:ae0baa7948abc47c2a198bd70eacea10c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to <a class="el" href="classObject.html" title="A definition of an object in the inventory. ">Object</a> drawer. <br /></td></tr>
<tr class="separator:ae0baa7948abc47c2a198bd70eacea10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac18e97590b413588ec2e0d91b06f9f8c"><td class="memItemLeft" align="right" valign="top"><a id="ac18e97590b413588ec2e0d91b06f9f8c"></a>
std::thread *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEngine.html#ac18e97590b413588ec2e0d91b06f9f8c">mptViewer</a></td></tr>
<tr class="memdesc:ac18e97590b413588ec2e0d91b06f9f8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to <a class="el" href="classObject.html" title="A definition of an object in the inventory. ">Object</a> viewer thread. <br /></td></tr>
<tr class="separator:ac18e97590b413588ec2e0d91b06f9f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6aea740916785e00aa7f0bc7e73dbab"><td class="memItemLeft" align="right" valign="top"><a id="ad6aea740916785e00aa7f0bc7e73dbab"></a>
timer&#160;</td><td class="memItemRight" valign="bottom"><b>mtimer</b></td></tr>
<tr class="separator:ad6aea740916785e00aa7f0bc7e73dbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d68b104f8ed664e4dfb058dd360e7b"><td class="memItemLeft" align="right" valign="top"><a id="ae9d68b104f8ed664e4dfb058dd360e7b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>timeIsTicked</b> = false</td></tr>
<tr class="separator:ae9d68b104f8ed664e4dfb058dd360e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An engine implementation to run object instance segmentation using maskrcnn-benchmark and ORBSLAM2. </p>
<dl class="section author"><dt>Author</dt><dd>Tariq Abuhashim </dd></dl>
<dl class="section date"><dt>Date</dt><dd>August 2019 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab3818182cd3d2b3a788ac04d743cf6f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3818182cd3d2b3a788ac04d743cf6f4">&#9670;&nbsp;</a></span>Engine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Engine::Engine </td>
          <td>(</td>
          <td class="paramtype">std::unordered_map&lt; int, std::string &gt;&#160;</td>
          <td class="paramname"><em>categories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor, Initialises Mask-RCNN. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">categories</td><td>a map of integers and object class labels of type unordered_map&lt;int,string&gt; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ef7030a089ecb30bbfcb9e43094717a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef7030a089ecb30bbfcb9e43094717a">&#9670;&nbsp;</a></span>~Engine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Engine::~Engine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default destructor, Deletes Mask-RCNN. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a381792d9c8cf59c365aa9ef5ff1841fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a381792d9c8cf59c365aa9ef5ff1841fb">&#9670;&nbsp;</a></span>ComputeFundamental()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat Engine::ComputeFundamental </td>
          <td>(</td>
          <td class="paramtype">KeyFrame *&#160;</td>
          <td class="paramname"><em>KF1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KeyFrame *&#160;</td>
          <td class="paramname"><em>KF2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the fundamental matrix between two ORBSLAM2 KeyFrames (projects a 2D point in KF1 to a line in KF2) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">KF1</td><td>a pointer to the first (reference) KeyFrame. </td></tr>
    <tr><td class="paramname">KF2</td><td>a pointer to the second KeyFrame. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a45c5502ceecdd852f9417ed0d7c73648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45c5502ceecdd852f9417ed0d7c73648">&#9670;&nbsp;</a></span>display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Engine::display </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classObject.html">Object</a> *&#160;</td>
          <td class="paramname"><em>O</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>imRGB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Contour&#160;</td>
          <td class="paramname"><em>maskContour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Rect&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Vec4i &gt;&#160;</td>
          <td class="paramname"><em>hierarchy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Scalar&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Displays object measurements in 2D on the image. This includes object contours and 3D points projections in the current KeyFrame </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">O</td><td>a pointer to the object </td></tr>
    <tr><td class="paramname">imRGB</td><td>the current RGB image </td></tr>
    <tr><td class="paramname">KF</td><td>the current KeyFrame </td></tr>
    <tr><td class="paramname">maskContour</td><td>a vector of visible object contours in the current KeyFrame </td></tr>
    <tr><td class="paramname">bbox</td><td>an OpenCV rectangular coordinates of the current object bounding box </td></tr>
    <tr><td class="paramname">hierarchy</td><td>OpenCV contours hierarchy </td></tr>
    <tr><td class="paramname">color</td><td>display color for both, contours and 2D ObjectPoints </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ade7b2b448a71642155d74932139c26d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7b2b448a71642155d74932139c26d7">&#9670;&nbsp;</a></span>GetSkewSymmetricMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat Engine::GetSkewSymmetricMatrix </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generates skew-symmetric square matrix (3x3) from an input vector </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>input vector with dimensions (3x1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab7feb6f45507d808379e9c4ba6cae90b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7feb6f45507d808379e9c4ba6cae90b">&#9670;&nbsp;</a></span>ProjectIntoCurrentKF()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Point Engine::ProjectIntoCurrentKF </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classObjectPoint.html">ObjectPoint</a> *&#160;</td>
          <td class="paramname"><em>MP</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Projects a map point from 3D into 2D image frame </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MP</td><td>a pointer to the current <a class="el" href="classObjectPoint.html">ObjectPoint</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0e1fdb5ff8c992b1795eff03e2551708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e1fdb5ff8c992b1795eff03e2551708">&#9670;&nbsp;</a></span>Run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Engine::Run </td>
          <td>(</td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>imRGB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>imD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KeyFrame *&#160;</td>
          <td class="paramname"><em>KF</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main function to run the object instance segmentation process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imRGB</td><td>is the current KeyFrame RGB image </td></tr>
    <tr><td class="paramname">imD</td><td>is the current KeyFrame depth image </td></tr>
    <tr><td class="paramname">KF</td><td>pointer to the current KeyFrame </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a21c2286837892a045674c6e9c2aaa0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c2286837892a045674c6e9c2aaa0b8">&#9670;&nbsp;</a></span>shortest_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float Engine::shortest_distance </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the shorted distance between a 2D point and a 2D line ( a*x + b*y + c = 0 ) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u</td><td>horizontal coordinate of the 2D point in the image </td></tr>
    <tr><td class="paramname">v</td><td>vertical coordinate of the 2D point in the image </td></tr>
    <tr><td class="paramname">a</td><td>first line coefficient (first component of the normal vector to the line) </td></tr>
    <tr><td class="paramname">b</td><td>second line coefficient (second component of the normal vector to the line) </td></tr>
    <tr><td class="paramname">c</td><td>third line coefficient </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a76d6ccc8e7dd30849fbcb039cd8cf5a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76d6ccc8e7dd30849fbcb039cd8cf5a6">&#9670;&nbsp;</a></span>TrackObjectContours()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classObject.html">Object</a> * Engine::TrackObjectContours </td>
          <td>(</td>
          <td class="paramtype">Contour&#160;</td>
          <td class="paramname"><em>maskContour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>imDepth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements object instance tracking in images by tracking its contours and using epipolar geometry </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maskContour</td><td>a vector of object contours extracted using OpenCV. </td></tr>
    <tr><td class="paramname">label</td><td>the classification label of the detection object using <a class="el" href="classMaskRCNN.html" title="An interface between maskrcnn-benchmark in python and Engine in C++. ">MaskRCNN</a>. </td></tr>
    <tr><td class="paramname">score</td><td>the classification score of the detection object using <a class="el" href="classMaskRCNN.html" title="An interface between maskrcnn-benchmark in python and Engine in C++. ">MaskRCNN</a>. </td></tr>
    <tr><td class="paramname">imDepth</td><td>the current depth image. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6d6151754fc9b77c75ce041f4653007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d6151754fc9b77c75ce041f4653007">&#9670;&nbsp;</a></span>TrackObjectPoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classObject.html">Object</a> * Engine::TrackObjectPoints </td>
          <td>(</td>
          <td class="paramtype">Contour&#160;</td>
          <td class="paramname"><em>maskContour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>imDepth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements object instance tracking in images by reprojecting map points into the current image frame </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maskContour</td><td>a vector of object contours extracted using OpenCV. </td></tr>
    <tr><td class="paramname">label</td><td>the classification label of the detection object using <a class="el" href="classMaskRCNN.html" title="An interface between maskrcnn-benchmark in python and Engine in C++. ">MaskRCNN</a>. </td></tr>
    <tr><td class="paramname">score</td><td>the classification score of the detection object using <a class="el" href="classMaskRCNN.html" title="An interface between maskrcnn-benchmark in python and Engine in C++. ">MaskRCNN</a>. </td></tr>
    <tr><td class="paramname">imDepth</td><td>the current depth image. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a39ebc85b2ec8b863a9a525a4fa4689aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39ebc85b2ec8b863a9a525a4fa4689aa">&#9670;&nbsp;</a></span>K</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat Engine::K</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Camera intrinsic parameters (TUM) </p>
<p>Camera intrinsic parameters </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/mrt/Dev/maskrcnn_slam_b/include/<a class="el" href="Engine_8hpp_source.html">Engine.hpp</a></li>
<li>/home/mrt/Dev/maskrcnn_slam_b/src/Engine.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
